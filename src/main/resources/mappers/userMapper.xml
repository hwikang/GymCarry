<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 다른 mapper와 중복되지 않도록 네임스페이스 기재 -->
<mapper namespace="user">
	<select id="userList" resultType="userDto">
		select * from usertbl
		order by userid
	</select>	
	<insert id="insertUser">
		insert into userTbl (userno, userid, username, userpwd, useremail, userphone, 
		presentid, userimage, protein, regdate) 
		values (user_Sq.nextVal, #{userid}, #{username}, #{userpwd}, #{useremail}, #{userphone},
		#{presentid}, null, 0, sysdate)
	</insert>
	<select id="login_check" resultType="userDto">
		select userid, username from userTbl
		where userid=#{userid} and userpwd=#{userpwd}
	</select>
	<select id="user_info" resultType="userDto">
		select * from userTbl
		where userid=#{userid}
	</select>
	<update id="addInfo_user" parameterType="userDto">
		update userTbl set birthdate=#{birthDate}, gender=#{gender}, userheight=#{userheight},
		userweight=#{userweight}, purposeExe=#{purposeExe}, stateExe=#{stateExe}, goalExe=#{goalExe}, regdate=sysdate where userid=#{userid}
	</update>
</mapper>